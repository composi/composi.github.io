<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="description" content="Composi is a JavaScript library for creating component-based interfaces. It uses the virtual DOM to make efficient updates to the DOM based on a component's data or state.">
  <meta name="keywords" content="javascript, framework, performance, small, fast, UI, programming, code, component, composi, chocolatechipui, chocolatechip-ui, reactive, virtual dom">
  <title>Composi - Docs</title>
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/prism.css">
  <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16" />
</head>
<body class='page'>
  <nav>
    <ul class='nav-menu'>
      <li class='nav-menu__item'>
        <a class='nav-menu__item__link' href="/index.html">
          <svg id='composi-logo' viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <title>Composi Logo</title>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Composi-Logo-Solid" fill="#fff">
                <path d="M1.77635684e-15,0 L95,0 L95,38 L209,38 L209,0 L300,0 L300,94 L265,93.8571663 L265,209 L300,209 L300,300 L209,300 L209,265 L95,265 L95,300 L1.77635684e-15,300 L1.77635684e-15,209 L40,209 L40,94 L1.77635684e-15,93.8571663 L1.77635684e-15,0 Z M107,107 L107,192 L192,192 L192,107 L107,107 Z" id="Combined-Shape"></path>
              </g>
            </g>
          </svg>
        <span class='logo__link--text'>Composi</span></a>
      </li>
      <li class='nav-menu__item selected'>
        <a class='nav-menu__item__link' href="/en/docs/index.html">Docs</a>
      </li>
      <!--
      <li class='nav-menu__item'>
        <a class='nav-menu__item__link' href="/lessons/index.html">Lessons</a>
      </li>
      -->
    </ul>
  </nav>
  <article class='article'>
    <section>
      <div class='docs'>
        <h3>@composi/idb:</h3>
        <ul class='breadcrumb'>
          <li><a href="/en/docs/idb/install.html">Install</a></li>
          <li class='selected'>IDB</li>
          <li><a href="/en/docs/idb/usage.html">Usage</a></li>
        </ul>
          <h1>IDB</h1>
          <h3>IndexedDB with Promises</h3>
          <p>IDB is a promise-base wrapper for IndexedDB. That means all its operations are non-blocking. It provides a simple API similar to localStorage. This allows you to persist data locally with the ease of using localStorage but with the robustness of IndexedDB.</p>
          <p>LocalStorage is great for saving small amounts of data quickly. However, it only stores one type: string. Whatever you want to save in it has to be converted to a string. That includes all JavaScript data types. This requires converting your data to strings with JSON.stringify. To get your data back you need to pass your data through JSON.parse. This back and forth conversion is usually not a problem. But sometimes it is. The more complex your data, the more you come up against the limitations of localStorage. Basically, localStorage is a glorified cookie, a cache for string data. And finally, localStorage is limite to about 5MB of data. In contrast, IndexedDB starts off with 50MB of available storage and can use more upon user approval. If you avoid saving blobs, you can store quite a bit in 50MB.</p>
          <p>IndexedDB is a no-SQL database and so has none of these limitations. But that means its API is comlex. Setting up a database with it and maintaining it is get complicated. When all you want to do is persist some data, learning how to use IndexedDB efficiently can be overkill. @composi/idb was created to address this issue. It provides a solution to easily persist data in IndexedDB without having to know how IndexedDB works.</p>

          <p>With IndexedDB you need to know how to create a database, create a store, open a connection, handle versioning, deal with upgrading schemas, and handle transactions. In contrast, with @composi/idb you have the following API:</p>

          <ul class='main-menu'>
            <li>set(key, value)</li>
            <li>get(key)</li>
            <li>remove(key)</li>
            <li>clear()</li>
            <li>keys()</li>
          </ul>
          <p> </p>
          <h2>One Database to Rule Them All</h2>
          <p>Because @composi/idb is about persisting data and keeping things simple, it does so by limiting itself to one database: <code>composi-idb</code> with one store: <code>composi-store</code>. To use it you just import it into your project and use one of the above methods. Doing so automatically creates the default database for you.</p>

<pre><code class="language-javascript">import { h, render } from '@composi/core'
import { idb } from '@composi/idb'

// Create the default database and save data in it:
idb.set('my-stuff', ['apples', 'socks', 'laundry soap'])
</code></pre>

          <p>As we mentioned, @composi/idb is promise-based. That means all the above methods return promises. To deal with their results you'll need to use a <code>then</code> function. Hop over to <a href="/en/docs/idb/usage.html">Usage</a> to learn how to use @composi/idb's methods.</p>

          <h2>Other Options</h2>
          <p>If you want greater control over what IndexedDB is doing than @composi/idb offers, you can look at using other IndexedDB wrappers: <a href="hhttps://www.npmjs.com/package/dexie">dexie</a>, <a href="https://www.npmjs.com/package/pouchdb-browser">pouchdb-browser</a>, or check out what's available on <a href="https://www.npmjs.com/search?q=indexeddb">NPM</a></p>


              <p>&nbsp;</p>
      </div>
    </section> 
  </article>
  <footer>
      <section>
        <svg id='composi-logo-footer' viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <title>Composi Logo</title>
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Composi-Logo-Solid" fill="rgba(255,255,255,0.5)">
              <path d="M1.77635684e-15,0 L95,0 L95,38 L209,38 L209,0 L300,0 L300,94 L265,93.8571663 L265,209 L300,209 L300,300 L209,300 L209,265 L95,265 L95,300 L1.77635684e-15,300 L1.77635684e-15,209 L40,209 L40,94 L1.77635684e-15,93.8571663 L1.77635684e-15,0 Z M107,107 L107,192 L192,192 L192,107 L107,107 Z" id="Combined-Shape"></path>
            </g>
          </g>
        </svg>
        <h3>Composi is open source (MIT) and available on <a href='https://github.com/composi/core' target='__blank'>Github</a> and <a href="https://www.npmjs.com/package/@composi/core" target='__blank'>NPM</a>.</h3>
      </section>
    </footer>
  <script src="/js/prism.js"></script>
  
  
</body>
</html>